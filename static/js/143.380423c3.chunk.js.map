{"version":3,"file":"static/js/143.380423c3.chunk.js","mappings":"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","sources":["components/ErrorMessage/ErrorMessage.jsx","components/Loader/Loader.stiled.js","components/Loader/Loader.jsx","components/SharedLayout/SharedLayout.jsx","components/Searchbar/Searchbar.jsx","components/MoviesList/MoviesList.jsx","pages/Movies/Movies.jsx","tools/apiGet.js"],"sourcesContent":["//import { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast, Zoom } from 'react-toastify';\n\nconst ErrorMessage = (msg, clb = false) => {\n  const Msg = ({ closeToast, errorMessage }) => (\n    <div>\n      <p>Error: {errorMessage}</p>\n      {/* //<p>Повідомлення закриється автоматично</p> */}\n      <button\n        onClick={closeToast}\n        className=\"rounded-md border border-black border-solid px-2\"\n      >\n        Поверненутися до пошуку\n      </button>\n    </div>\n  );\n\n  toast.error(<Msg errorMessage={msg} errorClose={clb} />, {\n    closeButton: false,\n    onClose: props => props.errorClose && props.errorClose(),\n    autoClose: 5000,\n    transition: Zoom,\n    pauseOnFocusLoss: false,\n    position: toast.POSITION.TOP_CENTER,\n  });\n};\n\nErrorMessage.propTypes = {\n  msg: PropTypes.string.isRequired,\n  clb: PropTypes.func,\n};\n\nexport default ErrorMessage;\n","import styled from 'styled-components';\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n","import { RotatingLines } from 'react-loader-spinner';\nimport { LoaderWrapper } from './Loader.stiled';\nconst Loader = () => (\n  <LoaderWrapper>\n    <RotatingLines\n      strokeColor=\"#3f51b5\"\n      strokeWidth=\"4\"\n      animationDuration=\"1\"\n      width=\"70\"\n      visible={true}\n    />\n  </LoaderWrapper>\n);\n\nexport default Loader;\n","import { NavLink } from 'react-router-dom';\n\nexport const Container = ({ children }) => (\n  <div className=\"container max-w-7xl  my-0 mx-auto py-0 px-4 pb-16\">\n    {children}\n  </div>\n);\n\nexport const Header = ({ children }) => (\n  <header\n    className=\"flex items-center justify-between\n                 gap-4 px-0 py-4 mb-4 border-b \n                 border-black border-solid \"\n  >\n    <nav className=\"flex gap-4\"> {children} </nav>\n  </header>\n);\n\nexport const Link = ({ to, state, children }) => (\n  <NavLink\n    to={to}\n    state={state}\n    className=\"block w-full px-2 rounded-md hover:bg-sky-100\"\n  >\n    {children}\n  </NavLink>\n);\n\nexport const MenuLink = ({ to, children }) => {\n  const link =\n    'py-2 px-8 rounded-md hover:bg-sky-400 hover:shadow hover:shadow-sky-500 border  border-stone-400 border-solid ';\n  const activeLink = `${link} bg-sky-400  text-white`;\n  const unactiveLink = `${link} bg-sky-200 text-black`;\n\n  return (\n    <NavLink\n      to={to}\n      className={({ isActive }) => (isActive ? activeLink : unactiveLink)}\n    >\n      {children}\n    </NavLink>\n  );\n};\n\nexport const ButtonLink = ({ link, children }) => {\n  return (\n    <button\n      onClick={() => link()}\n      className=\"bg-sky-200 px-3 rounded-md flex items-center gap-2\n                    border border-stone-400 border-solid \n                  hover:bg-sky-400 hover:shadow hover:shadow-sky-500\"\n    >\n      {children}\n    </button>\n  );\n};\n","import PropTypes from 'prop-types';\nimport { MdOutlineImageSearch } from 'react-icons/md';\nconst Searchbar = ({ onSubmit }) => (\n  <div\n    className=\"flex items-center justify-center px-6 py-3 text-white \n              bg-sky-600 z-50 shadow-md \"\n  >\n    <form\n      onSubmit={onSubmit}\n      className=\"flex items-center w-full max-w-xl \n                  overflow-hidden bg-white rounded\"\n    >\n      <button\n        type=\"submit\"\n        className=\"inline-block w-12 h-12 bg-inherit text-sky-500 \n                  opacity-60 transition-opacity duration-300 hover:opacity-100\"\n      >\n        <MdOutlineImageSearch className=\"block h-full w-full\" />\n      </button>\n      <input\n        name=\"query\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        className=\"inline-block w-full px-1 outline-none \n                    font-sans font-normal text-xl text-black \n                    placeholder:text-lg\"\n      />\n    </form>\n  </div>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport { Link } from 'components/SharedLayout/SharedLayout';\nconst MoviesList = ({ films, location }) => (\n  <ul className=\"pt-4 flex flex-col gap-1 w-max\">\n    {films.map(item => (\n      <li key={item.id} className=\"w-full\">\n        <Link to={`/Movies/${item.id}`} state={{ from: location }}>\n          {item.name} {item.original_title}\n        </Link>\n      </li>\n    ))}\n  </ul>\n);\n\nMoviesList.prototype = {\n  films: PropTypes.array.isRequired,\n  location: PropTypes.shape,\n};\n\nexport default MoviesList;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { useFetch } from 'tools/apiGet';\nimport Loader from 'components/Loader/Loader';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\n\nconst Movies = () => {\n  const url = `search/company`;\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [searchString, setSearchString] = useSearchParams('');\n  const [options, setOptions] = useState({\n    query: searchString.get('query'),\n    page: 1,\n  });\n  const { data, isLoaded, error } = useFetch(url, options);\n  const backLinkHref = location.pathname ?? '/';\n  const closeT = useCallback(\n    () => navigate(backLinkHref),\n    [backLinkHref, navigate]\n  );\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n\n    const inputString = evt.currentTarget.elements.query;\n    const inputValue = evt.currentTarget.elements.query.value.trim();\n    if (!inputValue) {\n      toast.error(`Введи `);\n      return;\n    } else if (options.query === inputValue) {\n      toast.error(`Вже шукали \"${inputValue}\" `);\n      inputString.value = '';\n      return;\n    }\n\n    setSearchString({ query: inputValue });\n    setOptions(prev => ({ ...prev, query: inputValue }));\n    inputString.value = '';\n  };\n\n  useEffect(() => {\n    if (data?.total_results <= 0 && options.query) {\n      ErrorMessage('нема нікого !', closeT);\n    }\n    // eslint-disable-next-line\n  }, [data, closeT]);\n\n  if (error) {\n    toast.error(error);\n  }\n\n  const showList = data?.total_results > 0 && !error;\n  const showLoader = isLoaded && !error;\n  const films = data?.results;\n  return (\n    <>\n      <Searchbar onSubmit={onSubmit} />\n      {showLoader && <Loader />}\n      {showList && <MoviesList films={films} location={location} />}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nexport async function getFetch(url, controller = null, options = null) {\n  let param = {\n    baseURL: 'https://api.themoviedb.org/3/',\n    params: {\n      api_key: '4c5709de239d230c95a29a6c1868ce65',\n    },\n  };\n  if (controller) param.signal = controller.signal;\n  if (options) {\n    param.params = { ...param.params, ...options };\n  }\n  // console.log(param);\n  const response = await axios.get(url, param);\n  return response;\n}\n\nexport const useFetch = (url, options = null) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n  const [isLoaded, setIsLoaded] = useState(true);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    (async () => {\n      try {\n        if (url) {\n          const response = await getFetch(url, controller, options);\n          setData(response.data);\n        }\n      } catch (error) {\n        if (error.message !== 'canceled') {\n          setError(error.message);\n        }\n      } finally {\n        setIsLoaded(false);\n      }\n    })();\n\n    return () => controller.abort();\n  }, [options, url]);\n\n  return { data, error, isLoaded };\n};\n"],"names":["msg","clb","arguments","length","undefined","Msg","_ref","closeToast","errorMessage","_jsxs","children","_jsx","onClick","className","toast","errorClose","closeButton","onClose","props","autoClose","transition","Zoom","pauseOnFocusLoss","position","LoaderWrapper","styled","_templateObject","_taggedTemplateLiteral","RotatingLines","strokeColor","strokeWidth","animationDuration","width","visible","Container","Header","_ref2","Link","_ref3","to","state","NavLink","MenuLink","_ref4","link","activeLink","concat","unactiveLink","_ref5","isActive","ButtonLink","_ref6","onSubmit","type","MdOutlineImageSearch","name","autoComplete","autoFocus","placeholder","MoviesList","films","location","map","item","id","from","original_title","prototype","PropTypes","_location$pathname","useLocation","navigate","useNavigate","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchString","setSearchString","_useState","useState","query","get","page","_useState2","options","setOptions","_useFetch","useFetch","data","isLoaded","error","backLinkHref","pathname","closeT","useCallback","useEffect","total_results","ErrorMessage","showList","showLoader","results","_Fragment","Searchbar","evt","preventDefault","inputString","currentTarget","elements","inputValue","value","trim","prev","_objectSpread","Loader","getFetch","_x","_getFetch","apply","_asyncToGenerator","_regeneratorRuntime","_callee2","url","controller","param","response","_args2","_context2","next","baseURL","params","api_key","signal","axios","sent","abrupt","stop","setData","_useState3","_useState4","setError","_useState5","_useState6","setIsLoaded","AbortController","_callee","_context","t0","message","finish","abort"],"sourceRoot":""}