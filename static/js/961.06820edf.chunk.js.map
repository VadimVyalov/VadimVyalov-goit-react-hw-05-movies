{"version":3,"file":"static/js/961.06820edf.chunk.js","mappings":"gMAEaA,E,QAAgBC,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wD,SCYvC,EAZe,WAAH,OACVC,EAAAA,EAAAA,KAACJ,EAAa,CAAAK,UACZD,EAAAA,EAAAA,KAACE,EAAAA,GAAa,CACZC,YAAY,UACZC,YAAY,IACZC,kBAAkB,IAClBC,MAAM,KACNC,SAAS,KAEG,C,uJCTLC,EAAY,SAAHC,GAAA,IAAMR,EAAQQ,EAARR,SAAQ,OAClCD,EAAAA,EAAAA,KAAA,OAAKU,UAAU,0CAAyCT,SAAEA,GAAe,EAG9DU,EAAS,SAAHC,GAAA,IAAMX,EAAQW,EAARX,SAAQ,OAC/BD,EAAAA,EAAAA,KAAA,UACEU,UAAU,8FAE8BT,UAExCY,EAAAA,EAAAA,MAAA,OAAKH,UAAU,aAAYT,SAAA,CAAC,IAAEA,EAAS,QAChC,EAGEa,EAAO,SAAHC,GAAA,IAAMC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOhB,EAAQc,EAARd,SAAQ,OACxCD,EAAAA,EAAAA,KAACkB,EAAAA,GAAO,CACNF,GAAIA,EACJC,MAAOA,EACPP,UAAU,gDAA+CT,SAExDA,GACO,EAGCkB,EAAW,SAAHC,GAA0B,IAApBJ,EAAEI,EAAFJ,GAAIf,EAAQmB,EAARnB,SACvBoB,EACJ,yEACIC,EAAU,GAAAC,OAAMF,EAAI,2CACpBG,EAAY,GAAAD,OAAMF,EAAI,eAE5B,OACErB,EAAAA,EAAAA,KAACkB,EAAAA,GAAO,CACNF,GAAIA,EACJN,UAAW,SAAAe,GAAW,OAAAA,EAARC,SAA2BJ,EAAaE,CAAY,EAAEvB,SAEnEA,GAGP,C,iHC4CA,UA5EqB,WAAO,IAAD0B,EAAAC,EACjBC,GAAOC,EAAAA,EAAAA,MAAPD,GACRE,GAAkCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GACxBI,GAAWC,EAAAA,EAAAA,MACXC,EAAmC,QAAvBZ,EAAiB,QAAjBC,EAAGS,EAASpB,aAAK,IAAAW,OAAA,EAAdA,EAAgBY,YAAI,IAAAb,EAAAA,EAAI,IACvCc,GAAWC,EAAAA,EAAAA,MACXC,EAAG,UAAApB,OAAaM,GACtBe,GAAkCC,EAAAA,EAAAA,GAASF,GAAnCG,EAAIF,EAAJE,KAAMC,EAAQH,EAARG,SAAUC,EAAKJ,EAALI,MAElBC,EAAc,WAAH,OACfjD,EAAAA,EAAAA,KAAA,UAAQkD,QAAS,kBAAMT,EAASF,EAAa,EAACtC,SAAC,cAAmB,GAGpEkD,EAAAA,EAAAA,YAAU,WACK,OAATL,GACFV,EAAaU,GAEXE,GAIFI,EAAAA,GAAAA,MAAYJ,EAAO,CACjBK,YAAaJ,EACbK,QAAS,kBAAMb,EAASF,EAAa,EACrCgB,WAAYC,EAAAA,GACZC,kBAAkB,EAClBC,SAAUN,EAAAA,GAAAA,SAAAA,YAIhB,GAAG,CAACJ,EAAOF,IAEX,IAAMa,EAAaxB,IAAca,EAC3BY,EAAab,IAAaC,EAChC,OACEnC,EAAAA,EAAAA,MAAAgD,EAAAA,SAAA,CAAA5D,SAAA,CACG2D,IAAc5D,EAAAA,EAAAA,KAAC8D,EAAAA,EAAM,IACrBH,IACC9C,EAAAA,EAAAA,MAAAgD,EAAAA,SAAA,CAAA5D,SAAA,EACED,EAAAA,EAAAA,KAAA,UACEU,UAAU,aACVwC,QAAS,WACPT,EAASF,EACX,EAAEtC,SACH,kBAGDD,EAAAA,EAAAA,KAAA,OACE+D,IAAG,mCAAAxC,OAAqCY,EAAU6B,eAClDC,IAAG,WAAA1C,OAAaY,EAAU+B,UAE5BlE,EAAAA,EAAAA,KAAA,MAAAC,SAAA,GAAAsB,OAAQY,EAAUgC,eAAc,MAAA5C,OAAKY,EAAUiC,aAAaC,MAC1D,EACA,GACD,QACDxD,EAAAA,EAAAA,MAAA,KAAAZ,SAAA,CAAG,eAAakC,EAAUmC,iBAC1BtE,EAAAA,EAAAA,KAAA,MAAAC,SAAI,cACJD,EAAAA,EAAAA,KAAA,KAAAC,SAAIkC,EAAUoC,YACdvE,EAAAA,EAAAA,KAAA,MAAAC,SAAI,YACJD,EAAAA,EAAAA,KAAA,KAAAC,SAAIkC,EAAUqC,OAAOC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,IAAI,IAAEC,KAAK,UAC3C5E,EAAAA,EAAAA,KAAA,KAAAC,SAAG,4BACHD,EAAAA,EAAAA,KAACc,EAAAA,GAAI,CAACE,GAAG,OAAOC,MAAOoB,EAASpB,MAAMhB,SAAC,UAGvCD,EAAAA,EAAAA,KAACc,EAAAA,GAAI,CAACE,GAAG,UAAUC,MAAOoB,EAASpB,MAAMhB,SAAC,aAG1CD,EAAAA,EAAAA,KAAC6E,EAAAA,SAAQ,CAACC,UAAU9E,EAAAA,EAAAA,KAAC8D,EAAAA,EAAM,IAAI7D,UAC7BD,EAAAA,EAAAA,KAAC+E,EAAAA,GAAM,WAMnB,C,gIC/EO,SAAeC,EAAQC,GAAA,OAAAC,EAAAC,MAAC,KAADC,UAAA,CAc7B,SAAAF,IAAA,OAAAA,GAAAG,EAAAA,EAAAA,GAAAC,IAAAA,MAdM,SAAAC,EAAwB5C,GAAG,IAAA6C,EAAAC,EAAAC,EAAAC,EAAAC,EAAAR,UAAA,OAAAE,IAAAA,MAAA,SAAAO,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAWb,OAXkCN,EAAOG,EAAAI,OAAA,QAAAC,IAAAL,EAAA,GAAAA,EAAA,GAAG,KAC3DF,EAAQ,CACVQ,QAAS,gCACTC,OAAQ,CACNC,QAAS,sCAJqBZ,EAAUI,EAAAI,OAAA,QAAAC,IAAAL,EAAA,GAAAA,EAAA,GAAG,QAO/BF,EAAMW,OAASb,EAAWa,QACtCZ,IACFC,EAAMS,QAAMG,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAQZ,EAAMS,QAAWV,IAEvCc,QAAQC,IAAId,GAAOG,EAAAE,KAAA,EACIU,EAAAA,EAAAA,IAAU9D,EAAK+C,GAAO,KAAD,EAA9B,OAARC,EAAQE,EAAAa,KAAAb,EAAAc,OAAA,SACPhB,GAAQ,yBAAAE,EAAAe,OAAA,GAAArB,EAAA,KAChBL,EAAAC,MAAA,KAAAC,UAAA,CAEM,IAAMvC,EAAW,SAACF,GAAyB,IAApB8C,EAAOL,UAAAY,OAAA,QAAAC,IAAAb,UAAA,GAAAA,UAAA,GAAG,KACtCrD,GAAwBC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/Be,EAAIb,EAAA,GAAE4E,EAAO5E,EAAA,GACpB6E,GAA0B9E,EAAAA,EAAAA,UAAS,IAAG+E,GAAA7E,EAAAA,EAAAA,GAAA4E,EAAA,GAA/B9D,EAAK+D,EAAA,GAAEC,EAAQD,EAAA,GACtBE,GAAgCjF,EAAAA,EAAAA,WAAS,GAAKkF,GAAAhF,EAAAA,EAAAA,GAAA+E,EAAA,GAAvClE,EAAQmE,EAAA,GAAEC,EAAWD,EAAA,GAsB5B,OApBA/D,EAAAA,EAAAA,YAAU,WACR,IAAMqC,EAAa,IAAI4B,gBAgBvB,OAfA/B,EAAAA,EAAAA,GAAAC,IAAAA,MAAC,SAAA+B,IAAA,IAAA1B,EAAA,OAAAL,IAAAA,MAAA,SAAAgC,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,UAAAuB,EAAAxB,KAAA,GAEOnD,EAAI,CAAD2E,EAAAvB,KAAA,eAAAuB,EAAAvB,KAAA,EACkBf,EAASrC,EAAK6C,EAAYC,GAAS,KAAD,EAAnDE,EAAQ2B,EAAAZ,KACdG,EAAQlB,EAAS7C,MAAM,OAAAwE,EAAAvB,KAAA,gBAAAuB,EAAAxB,KAAA,EAAAwB,EAAAC,GAAAD,EAAA,SAGH,aAAlBA,EAAAC,GAAMC,SACRR,EAASM,EAAAC,GAAMC,SAChB,QAEkB,OAFlBF,EAAAxB,KAAA,GAEDqB,GAAY,GAAOG,EAAAG,OAAA,6BAAAH,EAAAV,OAAA,GAAAS,EAAA,uBAXvBhC,GAeO,kBAAMG,EAAWkC,OAAQ,CAClC,GAAG,CAACjC,EAAS9C,IAEN,CAAEG,KAAAA,EAAME,MAAAA,EAAOD,SAAAA,EACxB,C","sources":["components/Loader/Loader.stiled.js","components/Loader/Loader.jsx","components/SharedLayout/SharedLayout.styled.js","pages/MovieDetails/MovieDetails.jsx","tools/apiGet.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n","import { RotatingLines } from 'react-loader-spinner';\nimport { LoaderWrapper } from './Loader.stiled';\nconst Loader = () => (\n  <LoaderWrapper>\n    <RotatingLines\n      strokeColor=\"#3f51b5\"\n      strokeWidth=\"4\"\n      animationDuration=\"1\"\n      width=\"70\"\n      visible={true}\n    />\n  </LoaderWrapper>\n);\n\nexport default Loader;\n","import { NavLink } from 'react-router-dom';\n\nexport const Container = ({ children }) => (\n  <div className=\"container  my-0 mx-auto py-0 px-4 pb-16\">{children}</div>\n);\n\nexport const Header = ({ children }) => (\n  <header\n    className=\"flex items-center justify-between\n                 gap-4 px-0 py-4 mb-4 border-b \n                 border-black border-solid \"\n  >\n    <nav className=\"flex gap-4\"> {children} </nav>\n  </header>\n);\n\nexport const Link = ({ to, state, children }) => (\n  <NavLink\n    to={to}\n    state={state}\n    className=\"block w-full px-2 rounded-md hover:bg-sky-100\"\n  >\n    {children}\n  </NavLink>\n);\n\nexport const MenuLink = ({ to, children }) => {\n  const link =\n    'py-2 px-8 rounded-md hover:bg-sky-100 border border-black border-solid';\n  const activeLink = `${link} bg-sky-500 hover:bg-sky-700 text-white`;\n  const unactiveLink = `${link} text-black`;\n\n  return (\n    <NavLink\n      to={to}\n      className={({ isActive }) => (isActive ? activeLink : unactiveLink)}\n    >\n      {children}\n    </NavLink>\n  );\n};\n","import { useParams, useLocation, Outlet, useNavigate } from 'react-router-dom';\nimport { Suspense, useEffect, useState } from 'react';\nimport { useFetch } from 'tools/apiGet';\nimport Loader from 'components/Loader/Loader';\nimport { Link } from 'components/SharedLayout/SharedLayout.styled';\n//import { BackLink } from 'components/BackLink/BackLink';\nimport { toast, Zoom } from 'react-toastify';\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const [movieInfo, setMovieInfo] = useState(null);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const navigate = useNavigate();\n  const url = `/movie/${id}`;\n  const { data, isLoaded, error } = useFetch(url);\n\n  const CloseButton = () => (\n    <button onClick={() => navigate(backLinkHref)}>Go to Back</button>\n  );\n\n  useEffect(() => {\n    if (data !== null) {\n      setMovieInfo(data);\n    }\n    if (error) {\n      //   console.log(error);\n\n      //toastId.current =\n      toast.error(error, {\n        closeButton: CloseButton,\n        onClose: () => navigate(backLinkHref),\n        transition: Zoom,\n        pauseOnFocusLoss: false,\n        position: toast.POSITION.TOP_CENTER,\n      });\n    }\n    // eslint-disable-next-line\n  }, [error, data]);\n\n  const showDetail = movieInfo && !error;\n  const showLoader = isLoaded && !error;\n  return (\n    <>\n      {showLoader && <Loader />}\n      {showDetail && (\n        <>\n          <button\n            className=\"bg-red-700\"\n            onClick={() => {\n              navigate(backLinkHref);\n            }}\n          >\n            Back to list\n          </button>\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${movieInfo.backdrop_path}`}\n            alt={`Poster: ${movieInfo.title}`}\n          />\n          <h2>{`${movieInfo.original_title} (${movieInfo.release_date.slice(\n            0,\n            4\n          )})`}</h2>\n          <p>User score: {movieInfo.vote_average}</p>\n          <h3>Overview</h3>\n          <p>{movieInfo.overview}</p>\n          <h3>Genres</h3>\n          <p>{movieInfo.genres.map(e => e.name).join(' | ')}</p>\n          <p>Additional information</p>\n          <Link to=\"cast\" state={location.state}>\n            Cast\n          </Link>\n          <Link to=\"reviews\" state={location.state}>\n            Reviews\n          </Link>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nexport async function getFetch(url, controller = null, options = null) {\n  let param = {\n    baseURL: 'https://api.themoviedb.org/3/',\n    params: {\n      api_key: '4c5709de239d230c95a29a6c1868ce65',\n    },\n  };\n  if (controller) param.signal = controller.signal;\n  if (options) {\n    param.params = { ...param.params, ...options };\n  }\n  console.log(param);\n  const response = await axios.get(url, param);\n  return response;\n}\n\nexport const useFetch = (url, options = null) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n  const [isLoaded, setIsLoaded] = useState(true);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    (async () => {\n      try {\n        if (url) {\n          const response = await getFetch(url, controller, options);\n          setData(response.data);\n        }\n      } catch (error) {\n        if (error.message !== 'canceled') {\n          setError(error.message);\n        }\n      } finally {\n        setIsLoaded(false);\n      }\n    })();\n\n    return () => controller.abort();\n  }, [options, url]);\n\n  return { data, error, isLoaded };\n};\n"],"names":["LoaderWrapper","styled","_templateObject","_taggedTemplateLiteral","_jsx","children","RotatingLines","strokeColor","strokeWidth","animationDuration","width","visible","Container","_ref","className","Header","_ref2","_jsxs","Link","_ref3","to","state","NavLink","MenuLink","_ref4","link","activeLink","concat","unactiveLink","_ref5","isActive","_location$state$from","_location$state","id","useParams","_useState","useState","_useState2","_slicedToArray","movieInfo","setMovieInfo","location","useLocation","backLinkHref","from","navigate","useNavigate","url","_useFetch","useFetch","data","isLoaded","error","CloseButton","onClick","useEffect","toast","closeButton","onClose","transition","Zoom","pauseOnFocusLoss","position","showDetail","showLoader","_Fragment","Loader","src","backdrop_path","alt","title","original_title","release_date","slice","vote_average","overview","genres","map","e","name","join","Suspense","fallback","Outlet","getFetch","_x","_getFetch","apply","arguments","_asyncToGenerator","_regeneratorRuntime","_callee2","controller","options","param","response","_args2","_context2","prev","next","length","undefined","baseURL","params","api_key","signal","_objectSpread","console","log","axios","sent","abrupt","stop","setData","_useState3","_useState4","setError","_useState5","_useState6","setIsLoaded","AbortController","_callee","_context","t0","message","finish","abort"],"sourceRoot":""}