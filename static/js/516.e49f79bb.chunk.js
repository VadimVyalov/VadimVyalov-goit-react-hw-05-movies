"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[516],{7505:function(e,r,t){var n=t(8174),s=t(184);r.Z=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=function(e){var r=e.closeToast,t=e.errorMessage;return(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["Error: ",t]}),(0,s.jsx)("button",{onClick:r,className:"rounded-md border border-black border-solid px-2",children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0435\u043d\u0443\u0442\u0438\u0441\u044f \u0434\u043e \u043f\u043e\u0448\u0443\u043a\u0443"})]})};n.Am.error((0,s.jsx)(t,{errorMessage:e,errorClose:r}),{closeButton:!1,onClose:function(e){return e.errorClose&&e.errorClose()},autoClose:5e3,transition:n.LG,pauseOnFocusLoss:!1,position:n.Am.POSITION.TOP_CENTER})}},3512:function(e,r,t){t.d(r,{Z:function(){return c}});var n,s=t(8402),o=t(168),a=t(6444).ZP.div(n||(n=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),i=t(184),c=function(){return(0,i.jsx)(a,{children:(0,i.jsx)(s.s5,{strokeColor:"#3f51b5",strokeWidth:"4",animationDuration:"1",width:"70",visible:!0})})}},7907:function(e,r,t){t.d(r,{Uk:function(){return i},W2:function(){return o},ZP:function(){return c},h4:function(){return a}});var n=t(1087),s=t(184),o=function(e){var r=e.children;return(0,s.jsx)("div",{className:"container max-w-7xl  my-0 mx-auto py-0 px-4 pb-16",children:r})},a=function(e){var r=e.children;return(0,s.jsx)("header",{className:"flex items-center justify-between gap-4 px-0 py-4 mb-4 border-b  border-black border-solid ",children:(0,s.jsxs)("nav",{className:"flex gap-4",children:[" ",r," "]})})},i=function(e){var r=e.to,t=e.children,o="py-2 px-8 rounded-md hover:bg-sky-400 hover:shadow hover:shadow-sky-500 border  border-stone-400 border-solid ",a="".concat(o," bg-sky-400  text-white"),i="".concat(o," bg-sky-200 text-black");return(0,s.jsx)(n.OL,{to:r,className:function(e){return e.isActive?a:i},children:t})},c=function(e){var r=e.link,t=e.children;return(0,s.jsx)("button",{onClick:function(){return r()},className:"bg-sky-200 px-3 rounded-md flex items-center gap-2 border border-stone-400 border-solid  hover:bg-sky-400 hover:shadow hover:shadow-sky-500",children:t})}},5516:function(e,r,t){t.r(r),t.d(r,{default:function(){return j}});var n=t(9439),s=t(7689),o=t(2791),a=t(3749),i=t(3512),c=t(1578),l=t(2007),u=t.n(l),d=t(184),h=function(e){var r=e.movieInfo;return(0,d.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 my-4",children:[(0,d.jsx)("img",{className:"flex flex-1",src:r.backdrop_path?"https://image.tmdb.org/t/p/w500/".concat(r.backdrop_path):"https://via.placeholder.com/500x280/cccccc/db0404.jpg?text=No+image",width:500,height:280,onError:function(e){var r=e.currentTarget;r.onerror=null,r.src="https://via.placeholder.com/500x280/cccccc/db0404.jpg?text=No+image"},alt:"Poster: ".concat(r.title)}),(0,d.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,d.jsx)("h2",{className:"text-xl font-medium text-stone-900",children:"".concat(r.original_title," (").concat(r.release_date.slice(0,4),")")}),(0,d.jsxs)("p",{children:["User score: ",r.vote_average]}),(0,d.jsx)("h3",{className:"text-base font-medium text-stone-800",children:"Overview"}),(0,d.jsx)("p",{className:"text-sm italic font-medium text-stone-600",children:r.overview}),(0,d.jsx)("h3",{className:"text-base font-medium text-stone-800",children:"Genres"}),(0,d.jsx)("p",{children:r.genres.map((function(e){return e.name})).join(" | ")})]})]})};h.prototype={movieInfo:u().shape};var x=h,f=t(7505),m=t(7907),v=t(9126),p=t(6856),b=function(e){var r=e.link,t=e.state;return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-base font-medium text-stone-800",children:"Additional information"}),(0,d.jsxs)("div",{className:"flex gap-3 my-4",children:[(0,d.jsxs)(m.ZP,{link:function(){return r("cast",{state:t})},children:[(0,d.jsx)(v.OVN,{}),"Cast"]}),(0,d.jsxs)(m.ZP,{link:function(){return r("reviews",{state:t})},children:[(0,d.jsx)(p.b12,{}),"Reviews"]})]})]})};b.prototype={link:u().func.isRequired,state:u().shape};var g=b,j=function(){var e,r,t=(0,s.UO)().id,l=(0,o.useState)(null),u=(0,n.Z)(l,2),h=u[0],m=u[1],v=(0,s.TH)(),p=null!==(e=null===(r=v.state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/",b=(0,s.s0)(),j="/movie/".concat(t),k=(0,a.i)(j),w=k.data,y=k.isLoaded,N=k.error,Z=(0,o.useCallback)((function(){return b(p)}),[p,b]);(0,o.useEffect)((function(){null!==w&&m(w),N&&(0,f.Z)(N,Z)}),[N,w,Z]);var C=h&&!N,_=y&&!N;return(0,d.jsxs)(d.Fragment,{children:[_&&(0,d.jsx)(i.Z,{}),C&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{onClick:function(){return b(p)},className:"bg-sky-200 px-3 mb-4 rounded-md flex items-center gap-2 border border-stone-400 border-solid  hover:bg-sky-400 hover:shadow hover:shadow-sky-500",children:[(0,d.jsx)(c.owl,{}),"Back to list"]}),(0,d.jsx)(x,{movieInfo:h}),(0,d.jsx)(g,{link:b,state:v.state}),(0,d.jsx)(o.Suspense,{fallback:(0,d.jsx)(i.Z,{}),children:(0,d.jsx)(s.j3,{})})]})]})}},3749:function(e,r,t){t.d(r,{i:function(){return h}});var n=t(1413),s=t(9439),o=t(5861),a=t(4687),i=t.n(a),c=t(1243),l=t(2791);function u(e){return d.apply(this,arguments)}function d(){return d=(0,o.Z)(i().mark((function e(r){var t,s,o,a,l=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=l.length>2&&void 0!==l[2]?l[2]:null,o={baseURL:"https://api.themoviedb.org/3/",params:{api_key:"4c5709de239d230c95a29a6c1868ce65"}},(t=l.length>1&&void 0!==l[1]?l[1]:null)&&(o.signal=t.signal),s&&(o.params=(0,n.Z)((0,n.Z)({},o.params),s)),e.next=7,c.Z.get(r,o);case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var h=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=(0,l.useState)(null),n=(0,s.Z)(t,2),a=n[0],c=n[1],d=(0,l.useState)(""),h=(0,s.Z)(d,2),x=h[0],f=h[1],m=(0,l.useState)(!0),v=(0,s.Z)(m,2),p=v[0],b=v[1];return(0,l.useEffect)((function(){var t=new AbortController;return(0,o.Z)(i().mark((function n(){var s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=6;break}return n.next=4,u(e,t,r);case 4:s=n.sent,c(s.data);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),"canceled"!==n.t0.message&&f(n.t0.message);case 11:return n.prev=11,b(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})))(),function(){return t.abort()}}),[r,e]),{data:a,error:x,isLoaded:p}}}}]);
//# sourceMappingURL=516.e49f79bb.chunk.js.map