{"version":3,"file":"static/js/516.e49f79bb.chunk.js","mappings":"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","sources":["components/ErrorMessage/ErrorMessage.jsx","components/Loader/Loader.stiled.js","components/Loader/Loader.jsx","components/SharedLayout/SharedLayout.jsx","components/MovieCard/MovieCard.jsx","components/MovieAdditional/MovieAdditional.jsx","pages/MovieDetails/MovieDetails.jsx","tools/apiGet.js"],"sourcesContent":["//import { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast, Zoom } from 'react-toastify';\n\nconst ErrorMessage = (msg, clb = false) => {\n  const Msg = ({ closeToast, errorMessage }) => (\n    <div>\n      <p>Error: {errorMessage}</p>\n      {/* //<p>Повідомлення закриється автоматично</p> */}\n      <button\n        onClick={closeToast}\n        className=\"rounded-md border border-black border-solid px-2\"\n      >\n        Поверненутися до пошуку\n      </button>\n    </div>\n  );\n\n  toast.error(<Msg errorMessage={msg} errorClose={clb} />, {\n    closeButton: false,\n    onClose: props => props.errorClose && props.errorClose(),\n    autoClose: 5000,\n    transition: Zoom,\n    pauseOnFocusLoss: false,\n    position: toast.POSITION.TOP_CENTER,\n  });\n};\n\nErrorMessage.propTypes = {\n  msg: PropTypes.string.isRequired,\n  clb: PropTypes.func,\n};\n\nexport default ErrorMessage;\n","import styled from 'styled-components';\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n","import { RotatingLines } from 'react-loader-spinner';\nimport { LoaderWrapper } from './Loader.stiled';\nconst Loader = () => (\n  <LoaderWrapper>\n    <RotatingLines\n      strokeColor=\"#3f51b5\"\n      strokeWidth=\"4\"\n      animationDuration=\"1\"\n      width=\"70\"\n      visible={true}\n    />\n  </LoaderWrapper>\n);\n\nexport default Loader;\n","import { NavLink } from 'react-router-dom';\n\nexport const Container = ({ children }) => (\n  <div className=\"container max-w-7xl  my-0 mx-auto py-0 px-4 pb-16\">\n    {children}\n  </div>\n);\n\nexport const Header = ({ children }) => (\n  <header\n    className=\"flex items-center justify-between\n                 gap-4 px-0 py-4 mb-4 border-b \n                 border-black border-solid \"\n  >\n    <nav className=\"flex gap-4\"> {children} </nav>\n  </header>\n);\n\nexport const Link = ({ to, state, children }) => (\n  <NavLink\n    to={to}\n    state={state}\n    className=\"block w-full px-2 rounded-md hover:bg-sky-100\"\n  >\n    {children}\n  </NavLink>\n);\n\nexport const MenuLink = ({ to, children }) => {\n  const link =\n    'py-2 px-8 rounded-md hover:bg-sky-400 hover:shadow hover:shadow-sky-500 border  border-stone-400 border-solid ';\n  const activeLink = `${link} bg-sky-400  text-white`;\n  const unactiveLink = `${link} bg-sky-200 text-black`;\n\n  return (\n    <NavLink\n      to={to}\n      className={({ isActive }) => (isActive ? activeLink : unactiveLink)}\n    >\n      {children}\n    </NavLink>\n  );\n};\n\nexport const ButtonLink = ({ link, children }) => {\n  return (\n    <button\n      onClick={() => link()}\n      className=\"bg-sky-200 px-3 rounded-md flex items-center gap-2\n                    border border-stone-400 border-solid \n                  hover:bg-sky-400 hover:shadow hover:shadow-sky-500\"\n    >\n      {children}\n    </button>\n  );\n};\n","import PropTypes from 'prop-types';\nconst MovieCard = ({ movieInfo }) => (\n  <div className=\"grid sm:grid-cols-2 gap-4 my-4\">\n    <img\n      className=\"flex flex-1\"\n      src={\n        movieInfo.backdrop_path\n          ? `https://image.tmdb.org/t/p/w500/${movieInfo.backdrop_path}`\n          : `https://via.placeholder.com/500x280/cccccc/db0404.jpg?text=No+image`\n      }\n      width={500}\n      height={280}\n      onError={({ currentTarget }) => {\n        currentTarget.onerror = null; // prevents looping\n        currentTarget.src =\n          'https://via.placeholder.com/500x280/cccccc/db0404.jpg?text=No+image';\n      }}\n      alt={`Poster: ${movieInfo.title}`}\n    />\n    <div className=\"flex-1 flex flex-col gap-2\">\n      <h2 className=\"text-xl font-medium text-stone-900\">{`${\n        movieInfo.original_title\n      } (${movieInfo.release_date.slice(0, 4)})`}</h2>\n      <p>User score: {movieInfo.vote_average}</p>\n      <h3 className=\"text-base font-medium text-stone-800\">Overview</h3>\n      <p className=\"text-sm italic font-medium text-stone-600\">\n        {movieInfo.overview}\n      </p>\n      <h3 className=\"text-base font-medium text-stone-800\">Genres</h3>\n      <p>{movieInfo.genres.map(e => e.name).join(' | ')}</p>\n    </div>\n  </div>\n);\n\nMovieCard.prototype = {\n  movieInfo: PropTypes.shape,\n};\n\nexport default MovieCard;\n","import PropTypes from 'prop-types';\nimport { ButtonLink } from 'components/SharedLayout/SharedLayout';\nimport { BsCast } from 'react-icons/bs';\nimport { MdOutlineReviews } from 'react-icons/md';\n\nconst MovieAdditional = ({ link, state }) => {\n  return (\n    <div>\n      <h2 className=\"text-base font-medium text-stone-800\">\n        Additional information\n      </h2>\n\n      <div className=\"flex gap-3 my-4\">\n        <ButtonLink link={() => link('cast', { state })}>\n          <BsCast />\n          Cast\n        </ButtonLink>\n\n        <ButtonLink link={() => link('reviews', { state })}>\n          <MdOutlineReviews />\n          Reviews\n        </ButtonLink>\n      </div>\n    </div>\n  );\n};\n\nMovieAdditional.prototype = {\n  link: PropTypes.func.isRequired,\n  state: PropTypes.shape,\n};\nexport default MovieAdditional;\n","import { useParams, useLocation, Outlet, useNavigate } from 'react-router-dom';\nimport { Suspense, useEffect, useState, useCallback } from 'react';\nimport { useFetch } from 'tools/apiGet';\nimport Loader from 'components/Loader/Loader';\n\nimport { TbArrowBackUp } from 'react-icons/tb';\nimport MovieCard from '../../components/MovieCard/MovieCard';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nimport MovieAdditional from '../../components/MovieAdditional/MovieAdditional';\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const [movieInfo, setMovieInfo] = useState(null);\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n  const navigate = useNavigate();\n  const url = `/movie/${id}`;\n  const { data, isLoaded, error } = useFetch(url);\n\n  const backToPrev = useCallback(\n    () => navigate(backLinkHref),\n    [backLinkHref, navigate]\n  );\n\n  useEffect(() => {\n    if (data !== null) {\n      setMovieInfo(data);\n    }\n    if (error) {\n      ErrorMessage(error, backToPrev);\n    }\n  }, [error, data, backToPrev]);\n\n  const showDetail = movieInfo && !error;\n  const showLoader = isLoaded && !error;\n\n  return (\n    <>\n      {showLoader && <Loader />}\n      {showDetail && (\n        <>\n          <button\n            onClick={() => navigate(backLinkHref)}\n            className=\"bg-sky-200 px-3 mb-4 rounded-md flex items-center gap-2\n                    border border-stone-400 border-solid \n                  hover:bg-sky-400 hover:shadow hover:shadow-sky-500\"\n          >\n            <TbArrowBackUp />\n            Back to list\n          </button>\n\n          <MovieCard movieInfo={movieInfo} />\n\n          <MovieAdditional link={navigate} state={location.state} />\n\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nexport async function getFetch(url, controller = null, options = null) {\n  let param = {\n    baseURL: 'https://api.themoviedb.org/3/',\n    params: {\n      api_key: '4c5709de239d230c95a29a6c1868ce65',\n    },\n  };\n  if (controller) param.signal = controller.signal;\n  if (options) {\n    param.params = { ...param.params, ...options };\n  }\n  // console.log(param);\n  const response = await axios.get(url, param);\n  return response;\n}\n\nexport const useFetch = (url, options = null) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n  const [isLoaded, setIsLoaded] = useState(true);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    (async () => {\n      try {\n        if (url) {\n          const response = await getFetch(url, controller, options);\n          setData(response.data);\n        }\n      } catch (error) {\n        if (error.message !== 'canceled') {\n          setError(error.message);\n        }\n      } finally {\n        setIsLoaded(false);\n      }\n    })();\n\n    return () => controller.abort();\n  }, [options, url]);\n\n  return { data, error, isLoaded };\n};\n"],"names":["msg","clb","arguments","length","undefined","Msg","_ref","closeToast","errorMessage","_jsxs","children","_jsx","onClick","className","toast","errorClose","closeButton","onClose","props","autoClose","transition","Zoom","pauseOnFocusLoss","position","LoaderWrapper","styled","_templateObject","_taggedTemplateLiteral","RotatingLines","strokeColor","strokeWidth","animationDuration","width","visible","Container","Header","_ref2","MenuLink","_ref4","to","link","activeLink","concat","unactiveLink","NavLink","_ref5","isActive","ButtonLink","_ref6","MovieCard","movieInfo","src","backdrop_path","height","onError","currentTarget","onerror","alt","title","original_title","release_date","slice","vote_average","overview","genres","map","e","name","join","prototype","PropTypes","MovieAdditional","state","BsCast","MdOutlineReviews","_location$state$from","_location$state","id","useParams","_useState","useState","_useState2","_slicedToArray","setMovieInfo","location","useLocation","backLinkHref","from","navigate","useNavigate","url","_useFetch","useFetch","data","isLoaded","error","backToPrev","useCallback","useEffect","ErrorMessage","showDetail","showLoader","_Fragment","Loader","TbArrowBackUp","Suspense","fallback","Outlet","getFetch","_x","_getFetch","apply","_asyncToGenerator","_regeneratorRuntime","_callee2","controller","options","param","response","_args2","_context2","prev","next","baseURL","params","api_key","signal","_objectSpread","axios","sent","abrupt","stop","setData","_useState3","_useState4","setError","_useState5","_useState6","setIsLoaded","AbortController","_callee","_context","t0","message","finish","abort"],"sourceRoot":""}