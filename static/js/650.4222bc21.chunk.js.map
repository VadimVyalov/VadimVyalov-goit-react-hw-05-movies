{"version":3,"file":"static/js/650.4222bc21.chunk.js","mappings":"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","sources":["components/ErrorMessage/ErrorMessage.jsx","components/Loader/Loader.stiled.js","components/Loader/Loader.jsx","components/MoviesList/MoviesList.jsx","components/Searchbar/Searchbar.jsx","pages/Movies/Movies.jsx","tools/apiGet.js"],"sourcesContent":["//import { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast, Zoom } from 'react-toastify';\n\nconst ErrorMessage = (msg, clb = false) => {\n  const Msg = ({ closeToast, errorMessage }) => (\n    <div>\n      <p>Error: {errorMessage}</p>\n      {/* //<p>Повідомлення закриється автоматично</p> */}\n      <button\n        onClick={closeToast}\n        className=\"rounded-md border border-black border-solid px-2\"\n      >\n        Поверненутися до пошуку\n      </button>\n    </div>\n  );\n\n  toast.error(<Msg errorMessage={msg} errorClose={clb} />, {\n    closeButton: false,\n    onClose: props => props.errorClose && props.errorClose(),\n    autoClose: 5000,\n    transition: Zoom,\n    pauseOnFocusLoss: false,\n    position: toast.POSITION.TOP_CENTER,\n  });\n};\n\nErrorMessage.propTypes = {\n  msg: PropTypes.string.isRequired,\n  clb: PropTypes.func,\n};\n\nexport default ErrorMessage;\n","import styled from 'styled-components';\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n","import { RotatingLines } from 'react-loader-spinner';\nimport { LoaderWrapper } from './Loader.stiled';\nconst Loader = () => (\n  <LoaderWrapper>\n    <RotatingLines\n      strokeColor=\"#3f51b5\"\n      strokeWidth=\"4\"\n      animationDuration=\"1\"\n      width=\"70\"\n      visible={true}\n    />\n  </LoaderWrapper>\n);\n\nexport default Loader;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nconst MoviesList = ({ title = null, films, location }) => (\n  <>\n    {title && (\n      <h1 className=\" text-center text-2xl font-semibold text-stone-800\">\n        {title}\n      </h1>\n    )}\n    <ul\n      className=\"gap-6 grid pt-6\n                grid-cols-2\n                md:grid-cols-3\n                lg:grid-cols-4 \n                xl:grid-cols-5\n  \"\n    >\n      {films.map(e => (\n        <li\n          key={e.id}\n          className=\"rounded-md border border-black border-solid overflow-hidden\n        transition-all duration-300 \n        hover:shadow-mm hover:shadow-sky-300 hover:scale-105 \"\n        >\n          <NavLink\n            className=\"p-0 \"\n            to={`/Movies/${e.id}`}\n            state={{ from: location }}\n          >\n            <img\n              className=\"w-full p-0\"\n              src={\n                e.poster_path\n                  ? `https://image.tmdb.org/t/p/w185/${e.poster_path}`\n                  : `https://via.placeholder.com/185x280/cccccc/db0404.jpg?text=No+image`\n              }\n              width={185}\n              height={280}\n              onError={({ currentTarget }) => {\n                currentTarget.onerror = null; // prevents looping\n                currentTarget.src =\n                  'https://via.placeholder.com/185x280/cccccc/db0404.jpg?text=No+image';\n              }}\n              alt={`Poster: ${e.title}`}\n            />\n            <p className=\"mx-2 font-sans text-sm font-medium truncate ...\">\n              {e.original_title}\n            </p>\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  </>\n);\n\nMoviesList.prototype = {\n  title: PropTypes.string,\n  films: PropTypes.array.isRequired,\n  location: PropTypes.shape,\n};\nexport default MoviesList;\n","import PropTypes from 'prop-types';\nimport { BiMoviePlay } from 'react-icons/bi';\nconst Searchbar = ({ onSubmit }) => (\n  <div\n    className=\"flex items-center justify-center px-6 py-3 text-white \n              bg-sky-600 z-50 shadow-md \"\n  >\n    <form\n      onSubmit={onSubmit}\n      className=\"flex items-center w-full max-w-xl \n                  overflow-hidden bg-white rounded\"\n    >\n      <button\n        type=\"submit\"\n        className=\"inline-block w-12 h-12 bg-inherit text-sky-500 \n                  opacity-60 transition-opacity duration-300 hover:opacity-100\"\n      >\n        <BiMoviePlay className=\"block h-full w-full\" />\n      </button>\n      <input\n        name=\"query\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        className=\"inline-block w-full px-1 outline-none \n                    font-sans font-normal text-xl text-black \n                    placeholder:text-lg\"\n      />\n    </form>\n  </div>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default Searchbar;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { useFetch } from 'tools/apiGet';\nimport Loader from 'components/Loader/Loader';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nconst Movies = () => {\n  const url = `search/movie`;\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [searchString, setSearchString] = useSearchParams('');\n  const [options, setOptions] = useState({\n    query: searchString.get('query'),\n    page: 1,\n  });\n  const { data, isLoaded, error } = useFetch(url, options);\n  const backLinkHref = location.pathname ?? '/';\n  const closeT = useCallback(\n    () => navigate(backLinkHref),\n    [backLinkHref, navigate]\n  );\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n\n    const inputString = evt.currentTarget.elements.query;\n    const inputValue = evt.currentTarget.elements.query.value.trim();\n    if (!inputValue) {\n      toast.error(`Введи `);\n      return;\n    } else if (options.query === inputValue) {\n      toast.error(`Вже шукали \"${inputValue}\" `);\n      inputString.value = '';\n      return;\n    }\n\n    setSearchString({ query: inputValue });\n    setOptions(prev => ({ ...prev, query: inputValue }));\n    inputString.value = '';\n  };\n\n  useEffect(() => {\n    if (data?.total_results <= 0 && options.query) {\n      ErrorMessage('нема нікого !', closeT);\n    }\n    // eslint-disable-next-line\n  }, [data, closeT]);\n\n  if (error) {\n    toast.error(error);\n  }\n\n  const showList = data?.total_results > 0 && !error;\n  const showLoader = isLoaded && !error;\n  const films = data?.results;\n  return (\n    <>\n      <Searchbar onSubmit={onSubmit} />\n      {showLoader && <Loader />}\n      {showList && (\n        <MoviesList\n          title={`За пошуком \"${options.query}\"`}\n          films={films}\n          location={location}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nexport async function getFetch(url, controller = null, options = null) {\n  let param = {\n    baseURL: 'https://api.themoviedb.org/3/',\n    params: {\n      api_key: '4c5709de239d230c95a29a6c1868ce65',\n    },\n  };\n  if (controller) param.signal = controller.signal;\n  if (options) {\n    param.params = { ...param.params, ...options };\n  }\n  // console.log(param);\n  const response = await axios.get(url, param);\n  return response;\n}\n\nexport const useFetch = (url, options = null) => {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n  const [isLoaded, setIsLoaded] = useState(true);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    (async () => {\n      try {\n        if (url) {\n          const response = await getFetch(url, controller, options);\n          setData(response.data);\n        }\n      } catch (error) {\n        if (error.message !== 'canceled') {\n          setError(error.message);\n        }\n      } finally {\n        setIsLoaded(false);\n      }\n    })();\n\n    return () => controller.abort();\n  }, [options, url]);\n\n  return { data, error, isLoaded };\n};\n"],"names":["msg","clb","arguments","length","undefined","Msg","_ref","closeToast","errorMessage","_jsxs","children","_jsx","onClick","className","toast","errorClose","closeButton","onClose","props","autoClose","transition","Zoom","pauseOnFocusLoss","position","LoaderWrapper","styled","_templateObject","_taggedTemplateLiteral","RotatingLines","strokeColor","strokeWidth","animationDuration","width","visible","MoviesList","_ref$title","title","films","location","_Fragment","map","e","NavLink","to","concat","id","state","from","src","poster_path","height","onError","_ref2","currentTarget","onerror","alt","original_title","prototype","PropTypes","onSubmit","type","BiMoviePlay","name","autoComplete","autoFocus","placeholder","_location$pathname","useLocation","navigate","useNavigate","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchString","setSearchString","_useState","useState","query","get","page","_useState2","options","setOptions","_useFetch","useFetch","data","isLoaded","error","backLinkHref","pathname","closeT","useCallback","useEffect","total_results","ErrorMessage","showList","showLoader","results","Searchbar","evt","preventDefault","inputString","elements","inputValue","value","trim","prev","_objectSpread","Loader","getFetch","_x","_getFetch","apply","_asyncToGenerator","_regeneratorRuntime","_callee2","url","controller","param","response","_args2","_context2","next","baseURL","params","api_key","signal","axios","sent","abrupt","stop","setData","_useState3","_useState4","setError","_useState5","_useState6","setIsLoaded","AbortController","_callee","_context","t0","message","finish","abort"],"sourceRoot":""}